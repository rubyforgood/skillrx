<%= form_for :provider, url: provider_settings_path, method: :put, data: { controller: "topics", topics_target: "chooseForm", turbo_frame: "topics", turbo_action: "advance" } do |f| %>
  <div style="display:flex; flex-wrap:wrap; gap:0.75rem; align-items:center;">
    <label for="provider_id" class="input-label" style="margin-bottom:0;">Provider</label>
    <div style="position:relative; min-width: 220px; max-width: 100%; width: 320px;">
      <%= f.select :id,
                   options_from_collection_for_select(providers, :id, :name),
                   { prompt: "Change provider" },
                   class: "select-field",
                   data: { action: "change->topics#chooseProvider" },
                   id: "provider_id" %>
      <%= render "shared/dropdown_arrow" %>
    </div>
  </div>
<% end %>

<style>
  form[data-topics-target="chooseForm"] { max-width: 100%; }
  form[data-topics-target="chooseForm"] select { max-width: 100%; }
</style>
